document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("contactForm");if(!e)return;const t=e=>{e.style.display="block",e.style.opacity="0",e.style.transition="opacity 0.3s ease",setTimeout((()=>e.style.opacity="1"),10)},n=(e,t)=>{e.style.opacity="0",e.style.transition="opacity 0.3s ease",setTimeout((()=>{e.style.display="none",t&&t()}),300)};function initWow(){if(typeof WOW!=="undefined"){new WOW({boxClass:"wow",animateClass:"animated",offset:100,mobile:true,live:true}).init()}}initWow();e.addEventListener("submit",(async function(a){a.preventDefault();const s={name:document.getElementById("name")?.value.trim(),email:document.getElementById("email")?.value.trim(),company:document.getElementById("company")?.value.trim(),phone:document.getElementById("phone")?.value.trim(),service:document.getElementById("service")?.value,message:document.getElementById("message")?.value.trim()},o=[];s.name||o.push("Name is required"),s.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||o.push("Valid email is required"),s.message?s.message.length<10&&o.push("Message must be at least 10 characters"):o.push("Message is required"),s.phone&&!/^[0-9\-\+]{10,}$/.test(s.phone)&&o.push("Please enter a valid phone number");const i=document.getElementById("contactAlert");if(o.length>0)return i.innerHTML=`\n                <div class="alert alert-danger">\n                    ${o.join("<br>")}\n                </div>\n            `,void t(i);const l=document.getElementById("loadingSpinner"),r=e.querySelectorAll("input, textarea, button");r.forEach((e=>e.disabled=!0)),t(l);try{const a=await fetch("/api/contacts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),o=await a.json();if(!a.ok)throw new Error(o.message||"Failed to send message");i.innerHTML='\n                    <div class="alert alert-success">\n                        <h4>Thank you for your message!</h4>\n                        <p>Your message has been sent successfully. Our team will get back to you shortly.</p>\n                        <p><i class="fa fa-envelope"></i> We\'ll respond within 24 hours</p>\n                    </div>\n                ',e.reset(),t(i),setTimeout((()=>n(i)),5e3)}catch(e){i.innerHTML=`\n                <div class="alert alert-danger">\n                    <h4>Oops!</h4>\n                    <p>${e.message||"Error sending message. Please try again later."}</p>\n                    <p>Try refreshing the page and submitting again.</p>\n                </div>\n            `,t(i)}finally{r.forEach((e=>e.disabled=!1)),n(l)}}));document.querySelectorAll('a[href*="#"]:not([href="#"])').forEach((e=>{e.addEventListener("click",(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){const t=document.getElementById(this.hash.slice(1));t&&(e.preventDefault(),document.querySelector("html, body").animate({scrollTop:t.offsetTop-50},1e3))}}))}))}));